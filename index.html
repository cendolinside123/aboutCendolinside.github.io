<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html ng-app="allCntl">
<head>
  <!-- <script>
    document.write('<base href="' + document.location + '" />');
  </script> -->
  <base href="/">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatiblepatible" content="IE=edge;chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- <script data-require="angular.js@1.2.x" src="https://code.angularjs.org/1.2.20/angular.js" data-semver="1.2.20"></script>
  <script data-require="angular-route@*" data-semver="1.2.17" src="https://code.angularjs.org/1.2.17/angular-route.js"></script> -->
  
  <link rel="stylesheet" href="css/css/bootstrap.min.css">
  <script src="js/angular.js"></script>
  <script src="js/angular-route.js"></script>
  <script src="js/cntl.js"></script>
  <link rel="stylesheet" href="css/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="css/js/bootstrap.min.js"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <!-- <title></title> -->
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2022.6">
  <style type="text/css">
    #container{width:100%;height:100%;min-width:400px;min-height:1000px;background:yellow}#animate{width:100%;height:50%;background-color:red;transform-origin:top left}#animate2{width:100%;height:50%;background-color:blue;bottom:0;transform-origin:bottom left}#a{width:5%;height:10%;position:absolute}
  </style>
</head>
<body style="overflow-x: hidden;">
  <header ng-controller="headerController" id="bar">
    <div ng-if="includeDesktopTemplate">[<a href="/">/</a> , <a href="AMe">/AMe</a>]</div>
    <div ng-if="includeMobileTemplate">
      <select ng-model="selectPage" ng-change="updatePage(selectPage)"> 
        <option value="/" selected>/ Home</option>
        <option value="AMe">/AMe/ About Me</option>
      </select>
    </div>
  </header>
  <section>
    <div ng-view></div>
    <div id="a">
			<img src="im/face1.jpg" id ="animate"></img>
			<img src="im/face2.jpg" id ="animate2"></img>
		</div>
  </section>
  <footer></footer>
  <script>
    document.getElementById("a").style.top = document.getElementById("bar").offsetTop + (document.getElementById("a").offsetWidth/2) + "px";
	myMove()
	function myMove() {
	
		let body = document.body, html = document.documentElement;
		let height = Math.max( body.scrollHeight, body.offsetHeight, 
                       html.clientHeight, html.scrollHeight, html.offsetHeight )
		let width = Math.min( body.scrollWidth, body.offsetWidth, 
                       html.clientWidth, html.scrollWidth, html.offsetWidth )
	
		let id = null;
		let id2 = null;
		const elem = document.getElementById("a");
		const maxWidth = width - document.getElementById("a").offsetWidth;
		const maxHeigh = height - (document.getElementById("a").offsetWidth + Math.trunc(document.getElementById("animate2").offsetHeight + (document.getElementById("animate2").offsetHeight/2)));
		let left = 0;
		let top = document.getElementById("bar").offsetTop + (document.getElementById("a").offsetWidth/2);
		let pos2 = 0;
		let a = false
		clearInterval(id);
		clearInterval(id2)
		id = setInterval(frame, 5);
		id2 = setInterval(frame2, 150);
		
		let audio = new Audio('https://cendolinside123.github.io/audio/clapt2.mp3')
		audio.loop = true

		document.body.addEventListener("mousemove", function () {
			audio.play();
		});
		document.body.addEventListener("touchstart", function () {
			audio.play();
		})
		
		function frame2() {
			pos2++;

			if (a == false) {
				document.getElementById("animate").style.transform = "rotate(-30deg)";
				document.getElementById("animate2").style.transform = "rotate(30deg)";
				if(pos2%5 == 0) {
					a = true;
				} else {
					a = false;
				}
			} else {
				document.getElementById("animate").style.transform = "rotate(0deg)"
				document.getElementById("animate2").style.transform = "rotate(0deg)"
				if(pos2%5 == 0) {
					a = false;
				} else {
					a = false
				}
			}
		}
		function frame() {
			// console.log(document.getElementById("animate").offsetHeight)
			/*if (pos == 350) {
			//document.getElementById("animate").style.transform = "rotate(0deg)"
				clearInterval(id);
			} else {
				pos++;
				elem.style.top = pos + "px";
				elem.style.left = pos + "px";
			}*/
			if (Math.trunc(left) < maxWidth && top == (document.getElementById("bar").offsetTop + (document.getElementById("a").offsetWidth/2))) {
			  elem.style.transform = "rotate(0deg)"
			  left++;
			  elem.style.left = left + "px";
			} else if (Math.trunc(left) == maxWidth && top < maxHeigh) {
			  top++;
			  elem.style.transform = "rotate(90deg)"
			  // console.log(screen.height - document.getElementById("animate").offsetHeight)
			  elem.style.top = top + "px";
			} else if (Math.trunc(top) == maxHeigh && Math.trunc(left) > 0) {
			  left--;
			  elem.style.transform = "rotate(0deg) scaleX(-1)"
			  elem.style.left = left + "px";
			} else if (Math.trunc(left) == 0 && (Math.trunc(top) <= maxHeigh && Math.trunc(top) > (document.getElementById("bar").offsetTop + (document.getElementById("a").offsetWidth/2)))) {
				top--;
				elem.style.transform = "rotate(-90deg) scaleX(1)"
				elem.style.top = top + "px";
			} else  if (Math.trunc(left) < maxWidth && Math.trunc(top) == (document.getElementById("bar").offsetTop + (document.getElementById("a").offsetWidth/2))) {
			  elem.style.transform = "rotate(0deg)"
			  left++;
			  elem.style.left = left + "px";
			}
			else {
			  clearInterval(id);
			  clearInterval(id2);
			  move();
			}
		}
	}
  </script>
</body>
</html>
